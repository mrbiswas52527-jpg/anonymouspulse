<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Anonymous Pulse</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="container">
        <header class="navbar">
            <nav>
                <a href="#" class="nav-item active" id="feed-tab">
                    <span class="icon">üè†</span>
                    <span class="label">Feed</span>
                </a>
                <a href="#" class="nav-item" id="post-tab">
                    <span class="icon">‚ûï</span>
                    <span class="label">Post</span>
                </a>
                <button class="settings-btn">‚öôÔ∏è</button>
            </nav>
        </header>
        
        <section class="post-section" id="post-view">
            <h1>The Anonymous Pulse</h1>
            <p class="tagline">Speak your mind. Share your truth. No profiles, no names, just the moment.</p>

            <div class="form-container">
                <h2>What's on your mind?</h2>
                <textarea
                    id="thought-input"
                    maxlength="500"
                    placeholder="Type your anonymous thought here (max 500 characters)..."
                ></textarea>
                <input
                    type="text"
                    id="image-url-input"
                    placeholder="Optional: Paste an image URL here (e.g., from Imgur, or a placeholder site)"
                >
                <div class="footer-bar">
                    <span id="char-count">500 remaining</span>
                    <button id="post-button">Post Anonymously</button>
                </div>
                <p class="error-message" style="display: none;">Error: Firebase configuration missing.</p>
            </div>
        </section>
        <section class="feed-section" id="feed-view" style="display: none;">
            <div id="posts-list">
                <div class="post-card" data-post-id="example-1">
                    <p>This is an example anonymous post in the feed.</p>
                    <div class="post-actions">
                        <button class="like-btn">‚ù§Ô∏è <span class="like-count">0</span></button>
                        <small>Posted just now</small>
                    </div>
                </div>
            </div>
        </section>
        
    <!-- Firebase init (module) -->
    <script type="module">
      // Use Firebase CDN modules for browser. Adjust versions if needed.
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-analytics.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBILSIN-Ed3PTQ_-YVFb2f01miiokwO4HA",
        authDomain: "aonymouspulse.firebaseapp.com",
        projectId: "aonymouspulse",
        storageBucket: "aonymouspulse.firebasestorage.app",
        messagingSenderId: "423477022200",
        appId: "1:423477022200:web:a7d796ddf93dd4a9b51a0d",
        measurementId: "G-LDCDNEGBYR"
      };

      const app = initializeApp(firebaseConfig);
      // Analytics may not be available in some environments (e.g., local file://), so guard it.
      try {
        const analytics = getAnalytics(app);
      } catch (e) {
        // Non-fatal: analytics isn't critical for the app to run.
        // Keep a console message so developers know why it may be missing.
        console.warn('Firebase analytics not initialized:', e);
      }
    </script>

    <script src="script.js"></script>
</body>
</html>
